!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types"),require("react-emotion"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","prop-types","react-emotion","react-dom"],t):"object"==typeof exports?exports.Modal=t(require("react"),require("prop-types"),require("react-emotion"),require("react-dom")):(e.academyatoms=e.academyatoms||{},e.academyatoms.Modal=t(e.React,e.PropTypes,e[void 0],e.ReactDOM))}(this,function(e,t,n,o){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=52)}({0:function(t,n){t.exports=e},1:function(e,n){e.exports=t},2:function(e,t){e.exports=n},32:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.bp={xs:{min:"0",max:"575px"},sm:{min:"576px",max:"767px"},md:{min:"768px",max:"991px"},lg:{min:"992px",max:"1199px"},xl:{min:"1200px",max:""}},t.modifier={bp:{xs:.71,sm:.71,md:.71,lg:.81,xl:1}}},48:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findTabbableDescendants=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(i)};var o=/input|select|textarea|button|object/;function a(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow"):"none"===n.getPropertyValue("display")}function r(e,t){var n=e.nodeName.toLowerCase();return(o.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(a(t))return!1;t=t.parentNode}return!0}(e)}function i(e){return r(e,!1)}},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=d(n(0)),r=d(n(1)),i=n(2),l=d(i),s=n(32);function d(e){return e&&e.__esModule?e:{default:e}}var u=(0,i.css)("position:relative;padding:3.5rem 2.4375rem;border:1px solid #ccc;background:#fff;text-align:center;overflow-y:scroll;max-height:80vh;box-shadow:0 14px 36px 8px rgba(0,0,0,0.06),0 12px 32px 6px rgba(0,0,0,0.04),0 5px 12px 0 rgba(0,0,0,0.06);@media only screen and (min-width:",s.bp.lg.min,"){min-height:480px;width:740px;}@media only screen and (min-width:",s.bp.sm.min,") and (max-width:",s.bp.md.max,"){min-height:400px;width:540px;}@media only screen and (min-width:",s.bp.xs.min,") and (max-width:",s.bp.xs.max,"){height:100%;width:100%;max-height:84vh;}:focus{outline:none;}@-webkit-keyframes zoomIn{from{opacity:0;-webkit-transform:scale3d(0.3,0.3,0.3);transform:scale3d(0.3,0.3,0.3);}50%{opacity:1;}}@keyframes zoomIn{from{opacity:0;-webkit-transform:scale3d(0.3,0.3,0.3);transform:scale3d(0.3,0.3,0.3);}50%{opacity:1;}}@-webkit-keyframes zoomOut{from{opacity:1;}50%{opacity:0;-webkit-transform:scale3d(0.3,0.3,0.3);transform:scale3d(0.3,0.3,0.3);}to{opacity:0;}}-webkit-animation-duration:0.5s;animation-duration:0.5s;-webkit-animation-fill-mode:both;animation-fill-mode:both;"),c=(0,i.css)("-webkit-animation-name:zoomIn;animation-name:zoomIn;"),f=(0,l.default)("div",{target:"e9tzqvk0"})("position:absolute;right:0;top:0;padding:1rem;"),p=(0,l.default)("button",{target:"e9tzqvk1"})("font-size:1.375rem;color:#585858;cursor:pointer;border:none;background:none;"),m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.modalContent=a.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this.modalContent.current.focus(),(0,this.props.storeContentTarget)(this.modalContent.current)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.modalContentClassName,o=e.handleClose,r=e.isOpen,l=e.closeIcon;return a.default.createElement("div",{ref:this.modalContent,className:(0,i.cx)(u,r?c:"",n),"aria-modal":"true",tabIndex:"-1"},"boolean"==typeof l&&l&&a.default.createElement(f,null,a.default.createElement(p,{onClick:function(){return o()}},"X")),a.default.createElement("div",{id:"atomic-modal-content",tabIndex:"-1"}),"boolean"!=typeof l&&l&&a.default.createElement(f,null,l),t)}}]),t}();m.propTypes={children:r.default.oneOfType([r.default.node,r.default.element]),modalContentClassName:r.default.string,handleClose:r.default.func,storeContentTarget:r.default.func.isRequired,isOpen:r.default.bool,closeIcon:r.default.bool},t.default=m},50:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=i(n(1)),r=n(2);function i(e){return e&&e.__esModule?e:{default:e}}var l=(0,r.css)("position:fixed;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%;z-index:999;background-color:rgba(0,0,0,0.5);overflow:hidden;"),s=function(e){var t=e.children,n=e.overlayClassName,a=e.handleOverlayClick;return o.default.createElement("div",{className:(0,r.cx)(l,n),role:"button",tabIndex:"0",onClick:a,onKeyDown:a},t)};s.propTypes={children:a.default.oneOfType([a.default.node,a.default.element]),overlayClassName:a.default.string,handleOverlayClick:a.default.func},t.default=s},51:function(e,t){e.exports=o},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=c(n(0)),r=c(n(51)),i=c(n(1)),l=n(2),s=c(n(50)),d=c(n(49)),u=n(48);function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,l.css)("overflow:hidden;"),p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:n.props.isOpen},n.modalTarget=null,n.tabbableDescentants=null,n.handleTouchEnd=n.handleTouchEnd.bind(n),n.handleClose=n.handleClose.bind(n),n.storeContentTarget=n.storeContentTarget.bind(n),n.handleOverlayClick=n.handleOverlayClick.bind(n),n.addBodyOverrides=n.addBodyOverrides.bind(n),n.removeBodyOverrides=n.removeBodyOverrides.bind(n),n.handleTabbableEvent=n.handleTabbableEvent.bind(n),n.el=document.createElement("div"),n.removeBodyOverrides(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el),this.el.focus(),this.el.addEventListener("touchend",this.handleTouchEnd),this.state.isOpen&&this.addBodyOverrides()}},{key:"componentWillReceiveProps",value:function(e){e.isOpen?(setTimeout(function(){document.getElementById("atomic-modal-content").focus()},0),this.addBodyOverrides()):this.removeBodyOverrides(),this.setState({isOpen:e.isOpen})}},{key:"componentWillUnmount",value:function(){this.removeBodyOverrides(),document.body.removeChild(this.el),this.el.removeEventListener("touchend",this.handleTouchEnd)}},{key:"addBodyOverrides",value:function(){document.body.classList.add(f)}},{key:"removeBodyOverrides",value:function(){document.body.classList.remove(f)}},{key:"handleTouchEnd",value:function(e){e.scale<.4&&this.handleClose()}},{key:"handleClose",value:function(){this.removeBodyOverrides(),this.setState({isOpen:!1});var e=this.props.handleClose;e&&e(!1)}},{key:"handleTabbableEvent",value:function(e){var t=this.tabbableDescentants.length;this.tabbableDescentants&&9===e.keyCode&&!e.shiftKey&&this.tabbableDescentants[t-1]===e.target&&(this.modalTarget.focus(),e.stopPropagation()),this.tabbableDescentants&&e.shiftKey&&9===e.keyCode&&this.tabbableDescentants[0]===e.target&&(e.preventDefault(),this.tabbableDescentants[t-1].focus())}},{key:"handleOverlayClick",value:function(e){this.handleTabbableEvent(e),(!this.modalTarget.contains(e.target)&&e.target!==this.modalTarget||27===e.keyCode)&&this.handleClose()}},{key:"storeContentTarget",value:function(e){this.modalTarget=e,this.tabbableDescentants=(0,u.findTabbableDescendants)(e)}},{key:"render",value:function(){var e=this.state.isOpen,t=this.props,n=t.modalContentClassName,o=t.closeIcon;return e?r.default.createPortal(a.default.createElement(s.default,{handleOverlayClick:this.handleOverlayClick},a.default.createElement(d.default,{modalContentClassName:n,storeContentTarget:this.storeContentTarget,handleClose:this.handleClose,isOpen:e,closeIcon:o},this.props.children)),this.el):a.default.createElement("div",null)}}]),t}();p.propTypes={children:i.default.oneOfType([i.default.node,i.default.element]),isOpen:i.default.bool,modalContentClassName:i.default.string,handleClose:i.default.func,closeIcon:i.default.oneOfType([i.default.bool,i.default.node,i.default.element])},p.defaultProps={closeIcon:!0},t.default=p}})});